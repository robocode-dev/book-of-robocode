<svg version="1.1" width="400" height="400" viewBox="0 0 4000 4000" xmlns="http://www.w3.org/2000/svg">

    <g>
        <use href="#tank" transform="translate(1500,2500)"
             style="--body-rotation:-90deg; --turret-rotation:-45deg; --radar-rotation:-10deg;"/>
        <use href="#tank" transform="translate(500,500)"
             style="--body-rotation:10deg; --turret-rotation:80deg; --radar-rotation:127deg;"/>
        <use href="#tank" transform="translate(1820,300)"
             style="--body-rotation:274deg; --turret-rotation:175deg; --radar-rotation:187deg;"/>
        <use href="#tank" transform="translate(310,1500)"
             style="--body-rotation:190deg; --turret-rotation:27deg; --radar-rotation:150deg;"/>
        <use href="#tank" transform="translate(1000,1200)"
             style="--body-rotation:310deg; --turret-rotation:65deg; --radar-rotation:54deg;"/>
        <use href="#tank" transform="translate(3000,1200)"
             style="--body-rotation:166deg; --turret-rotation:266deg; --radar-rotation:74deg;"/>
        <use href="#tank" transform="translate(3200,3200)"
             style="--body-rotation:166deg; --turret-rotation:311deg; --radar-rotation:340deg;"/>
        <use href="#radar-sweep"/>
        <circle cx="900" cy="900" r="240" fill="none" stroke="red" stroke-width="20"/>
        <circle cx="1400" cy="1600" r="240" fill="none" stroke="red" stroke-width="20"/>
    </g>

    <defs>
        <style>
            .tank-body,
            .tank-turret,
            .tank-radar {
            transform-origin: 400px 400px;
            }

            .tank-body {
            transform: rotate(var(--body-rotation, 10deg));
            }

            .tank-turret {
            transform: rotate(var(--turret-rotation, 80deg));
            }

            .tank-radar {
            transform: rotate(var(--radar-rotation, 127deg));
            }
        </style>

        <symbol id="link0">
            <rect x="5" y="55" width="125" height="25" fill="#aaaaaa"/>
            <rect x="10" y="70" width="116" height="35" fill="#666666" rx="10" ry="10"/>
            <rect x="5" y="55" width="125" height="50" fill="none" stroke="black" stroke-width="10" rx="10" ry="10"/>
        </symbol>

        <symbol id="link30">
            <rect x="5" y="55" width="125" height="25" fill="#939393"/>
            <rect x="10" y="70" width="116" height="30" fill="#585858" rx="10" ry="10"/>
            <rect x="5" y="55" width="125" height="42" fill="none" stroke="black" stroke-width="10" rx="10" ry="10"/>
        </symbol>

        <symbol id="link60">
            <rect x="5" y="55" width="125" height="20" fill="#555555"/>
            <rect x="5" y="55" width="125" height="20" fill="none" stroke="black" stroke-width="10" rx="10" ry="10"/>
        </symbol>

        <symbol id="main-track">
            <rect x="20" y="75" width="95" height="450" fill="#333333" stroke="black" stroke-width="10"/>
        </symbol>

        <symbol id="track2">
            <use href="#main-track" x="0" y="0"/>
            <use href="#link60" x="0" y="0"/>
            <use href="#link0" x="0" y="33"/>
            <use href="#link0" x="0" y="113"/>
            <use href="#link0" x="0" y="193"/>
            <use href="#link0" x="0" y="273"/>
            <use href="#link0" x="0" y="353"/>
            <use href="#link0" x="0" y="433"/>
        </symbol>

        <symbol id="track3">
            <use href="#main-track" x="0" y="0"/>
            <use href="#link0" x="0" y="7"/>
            <use href="#link0" x="0" y="87"/>
            <use href="#link0" x="0" y="167"/>
            <use href="#link0" x="0" y="247"/>
            <use href="#link0" x="0" y="327"/>
            <use href="#link0" x="0" y="407"/>
            <use href="#link60" x="0" y="470"/>
        </symbol>

        <symbol id="body">
            <use href="#track2" x="150" y="100"/>
            <use href="#track3" x="515" y="100"/>

            <rect x="240" y="190" width="320" height="420" fill="#019" stroke="black" stroke-width="20" rx="10"
                  ry="10"/>
        </symbol>

        <symbol id="turret">
            <rect x="300" y="320" width="200" height="200" fill="#06C" stroke="black" stroke-width="20" rx="10"
                  ry="10"/>
            <rect x="310" y="460" width="180" height="50" fill="black" opacity="0.5"/>

            <rect x="360" y="240" width="80" height="80" fill="url(#cannon-grad)" stroke="black" stroke-width="20"/>
            <rect x="375" y="70" width="50" height="170" fill="url(#cannon-grad)" stroke="black" stroke-width="20"/>

            <linearGradient id="cannon-grad" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#333"/>
                <stop offset="50%" stop-color="#CCC"/>
                <stop offset="100%" stop-color="#333"/>
            </linearGradient>
        </symbol>

        <symbol id="radar">
            <circle cx="400" cy="400" r="30" fill="#AAF" stroke="black" stroke-width="20"/>
            <path d="M 290 420 q 110 100 220 0 z" fill="#AAF" stroke="black" stroke-width="20"/>
        </symbol>

        <symbol id="tank">
            <g class="tank-body">
                <use href="#body"/>
            </g>
            <g class="tank-turret">
                <use href="#turret"/>
            </g>
            <g class="tank-radar">
                <use href="#radar"/>
            </g>
        </symbol>

        <defs>
            <linearGradient id="sweepGrad" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="5000" y2="0">
                <stop offset="0%" stop-color="green" stop-opacity="0.8"/>
                <stop offset="50%" stop-color="green" stop-opacity="0.1"/>
                <stop offset="100%" stop-color="green" stop-opacity="0"/>
            </linearGradient>

            <clipPath id="sector">
                <path d="
                    M 1900 2900
                    L 50 700
                    A -2900 -2900 0 0 1 2100 50
                    Z"/>
            </clipPath>
        </defs>

        <symbol id="radar-sweep">
            <rect x="0" y="0" width="4000" height="3000" fill="url(#sweepGrad)" clip-path="url(#sector)"/>
        </symbol>
    </defs>
</svg>
